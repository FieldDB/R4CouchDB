cdb$res <- ""

cdb$dataList <- list(a=1:40,
                    e = 31:40)
cdb <- cdbUpdateDoc( cdb )

cdb$DBName

cdb
q()
n
source("/home/tg/eig/couchdb/R4CouchDB/R/cdbIni.R")

cdb$newDBName <- "db5r"#!! #cdb$res[1]

cdb <- cdbListDB(cdb)


j <- match( cdb$newDBName, cdb$res, nomatch=0)

if(j==0){

  cdb <- cdbMakeDB( cdb )
  cdb$DBName <- cdb$newDBName

} else{

  cdb$DBName <- cdb$newDBName
  cdb$newDBName <- ""

}


cdb$dataList <- list(a=1:10, b=11:20,d=21:30)
cdb <- cdbAddDoc(cdb)

cdb <- cdbGetDoc(cdb)

cdb$rev <- cdb$res$'_rev'
cdb <- cdbUpdateDoc( cdb )

cdb$res <- ""

cdb$dataList <- list(a=1:40,
                    e = 31:40)
cdb <- cdbUpdateDoc( cdb )

cdb$DBName


cdb
names(cdb)
a <- list()
a$b <- "h"
a
source("/home/tg/eig/couchdb/R4CouchDB/R/cdbIni.R")

cdb$newDBName <- "db5r"#!! #cdb$res[1]

cdb <- cdbListDB(cdb)


j <- match( cdb$newDBName, cdb$res, nomatch=0)

if(j==0){

  cdb <- cdbMakeDB( cdb )
  cdb$DBName <- cdb$newDBName

} else{

  cdb$DBName <- cdb$newDBName
  cdb$newDBName <- ""

}


cdb$dataList <- list(a=1:10, b=11:20,d=21:30)
cdb <- cdbAddDoc(cdb)

cdb <- cdbGetDoc(cdb)

cdb$rev <- cdb$res$'_rev'
cdb <- cdbUpdateDoc( cdb )

cdb$res <- ""

cdb$dataList <- list(a=1:40,
                    e = 31:40)
cdb <- cdbUpdateDoc( cdb )

cdb$DBName


cdbAddDoc(cdb)
cdbGetDoc(cdb)
cdbGetUuids(cdb)
cdbGetUuids(cdb)
cdb <- cdbGetUuids(cdb)
cdb$id
source("/home/tg/eig/couchdb/R4CouchDB/R/cdbIni.R")

cdb$newDBName <- "db5r"#!! #cdb$res[1]

cdb <- cdbListDB(cdb)


j <- match( cdb$newDBName, cdb$res, nomatch=0)

if(j==0){

  cdb <- cdbMakeDB( cdb )
  cdb$DBName <- cdb$newDBName

} else{

  cdb$DBName <- cdb$newDBName
  cdb$newDBName <- ""

}


cdb$dataList <- list(a=1:10, b=11:20,d=21:30)
cdb <- cdbAddDoc(cdb)

cdb <- cdbGetDoc(cdb)

cdb$rev <- cdb$res$'_rev'
cdb <- cdbUpdateDoc( cdb )

cdb$res <- ""

cdb$dataList <- list(a=1:40,
                    e = 31:40)
cdb <- cdbUpdateDoc( cdb )

cdb$DBName


cdbGetUuids(cdb)
cdb$error <- ""
cdbGetUuids(cdb)
q()
n
source("/home/tg/eig/couchdb/R4CouchDB/R/cdbIni.R")


cdb <- cdbIni()
cdb$newDBName <- "db5r"#!! #cdb$res[1]

cdb <- cdbListDB(cdb)

j <- match( cdb$newDBName, cdb$res, nomatch=0)

if( j == 0 ){

  cdb <- cdbMakeDB( cdb )
  cdb$DBName <- cdb$newDBName

} else{

  cdb$DBName <- cdb$newDBName
  cdb$newDBName <- ""

}

## lets add a doc; why not the cdb
## cdb contains in cdb$dataList cdb
## cdb$dataList <- cdb
## _not_ cdb because the resulting structure is not ...
## $res$res  and so on ...
## it seems furthermore that the >id< tag causes
## problems; I can't query >id< in the a tempview
## at futon ...
## ... maybe here bis the source for the
## replication problems...!?

## so simply a list:
cdb$dataList <- list(a=1:10, b=11:20,d=21:30)

## cdb contains in cdb$dataList the cdb list now
cdb <- cdbAddDoc(cdb)

## getting the doc back from couch
## and placing the result to cdb
cdb <- cdbGetDoc(cdb)

## we need the revition for updating the doc
cdb$rev <- cdb$res$'_rev'
cdb <- cdbUpdateDoc( cdb )

## forget the remaining stuff
cdb$res <- ""

## update date
cdb$dataList <- list(a=1:40,
                    e = 31:40)
## update doc
cdb <- cdbUpdateDoc( cdb )

## at least we remove the test CDB
cdb$DBName
## cdb <- cdbRemoveDB(cdb)



?package.skeleton

package.skeleton(name="R4CouchDB", code_files=c("cdb*.R"))
package.skeleton(name="R4CouchDB", 
code_files=c(
"cdbGetUuids.R"  ,
"cdbListDB.R"    ,
"cdbMakeDB.R"    ,
"cdbAddDoc.R"    ,
"cdbRemoveDB.R"  ,
"cdbGetDoc.R"    ,
"cdbUpdateDoc.R" ,
"cdbGetView.R"   ))
q()
n
